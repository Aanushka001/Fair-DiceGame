(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[384],{3589:()=>{},5274:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});var s=t(7876),n=t(4232),o=t(9099),l=t(399),i=t(1040);function r(){let{login:e}=(0,n.useContext)(l.A),[a,t]=(0,n.useState)(""),[r,u]=(0,n.useState)(""),[d,c]=(0,n.useState)(""),h=(0,o.useRouter)(),p=async t=>{var s,n,o,l;t.preventDefault(),c("");try{let t=await i.A.post("".concat("http://localhost:5000/api/auth","/login"),{email:a,password:r});console.log("API Response:",t.data),(null===(s=t.data)||void 0===s?void 0:s.token)?(e(t.data),h.push("/game")):c("Invalid credentials. Please try again.")}catch(e){console.error("Login Error:",(null===(n=e.response)||void 0===n?void 0:n.data)||e.message),c((null===(l=e.response)||void 0===l?void 0:null===(o=l.data)||void 0===o?void 0:o.error)||"Invalid credentials. Try again.")}};return(0,s.jsxs)("div",{className:"login-container",children:[(0,s.jsx)("h2",{className:"login-title",children:"Login"}),(0,s.jsxs)("form",{className:"login-form",onSubmit:p,children:[(0,s.jsx)("input",{className:"login-input",type:"email",placeholder:"Email",value:a,onChange:e=>t(e.target.value),required:!0}),(0,s.jsx)("input",{className:"login-input",type:"password",placeholder:"Password",value:r,onChange:e=>u(e.target.value),required:!0}),(0,s.jsx)("button",{className:"login-button",type:"submit",children:"Login"})]}),d&&(0,s.jsx)("p",{className:"error-message",children:d}),(0,s.jsxs)("div",{className:"navigation-buttons",children:[(0,s.jsx)("button",{onClick:()=>h.push("/"),children:"Go to Home"}),(0,s.jsx)("button",{onClick:()=>h.push("/auth/register"),children:"Go to Register"})]})]})}t(3589)},5784:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return t(5274)}])}},e=>{var a=a=>e(e.s=a);e.O(0,[40,636,593,792],()=>a(5784)),_N_E=e.O()}]);